window.WebMap=function(){function e(e){const t=e?.view?.center||[12.4964,41.9028],n=e?.view?.zoom??12;return new ol.View({center:ol.proj.fromLonLat(t),zoom:n})}function t(e){return e.type==="osm"?new ol.layer.Tile({title:e.title||"OSM",source:new ol.source.OSM,visible:!!e.visible}):e.type==="stamen-toner"?new ol.layer.Tile({title:e.title||"Stamen Toner",source:new ol.source.XYZ({url:"https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png",attributions:"Stamen"}),visible:!!e.visible}):e.type==="xyz"?new ol.layer.Tile({title:e.title||"XYZ",source:new ol.source.XYZ({url:e.url,attributions:e.attribution||""}),visible:!!e.visible}):(console.warn("Unknown basemap type:",e),null)}function n(e){const n=(e?.basemaps||[]).map(t).filter(Boolean);return new ol.layer.Group({title:"Basemaps",layers:n})}function s(t,s){const i=e(s),o=n(s),a=new ol.Map({target:t,layers:[o],view:i});return{map:a,basemapGroup:o}}function o(e){const t=e.getView().getResolution(),n=25.4/.28,s=ol.proj.get(e.getView().getProjection()).getMetersPerUnit(),o=t*s*39.37*n;return Math.round(o)}return{createMap:s,currentScale:o}}()