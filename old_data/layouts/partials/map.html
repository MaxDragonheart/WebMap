{{/* PARTIAL CHE DISEGNA IL CONTENITORE DELLA MAPPA E CARICA GLI SCRIPT */}}

<main>
  <div class="map-wrapper">
    <div id="map" class="map"></div>

    {{/* Slider opacità (opzionale): sicuro anche se controls/slider non esiste */}}
    {{ if and .Config (and .Config.controls (default false .Config.controls.slider)) }}
      <div class="map-slider">
        <label for="opacity">Opacità raster</label>
        <input id="opacity" type="range" min="0" max="1" step="0.05" value="1">
      </div>
    {{ end }}

    {{/* Popup (opzionale) */}}
    {{ if and .Config (and .Config.popup (default false .Config.popup.enabled)) }}
      <div id="popup" class="ol-popup">
        <a href="#" id="popup-closer" class="ol-popup-closer"></a>
        <div id="popup-content"></div>
      </div>
    {{ end }}
  </div>
</main>

{{/* Include CSS/JS + config della mappa corrente e bootstrap */}}
{{ partial "scripts.html" . }}
