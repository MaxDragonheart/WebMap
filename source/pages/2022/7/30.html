<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="title" content="Los Glacieres">
    <meta name="description" content="I ghiacciai del Parco Nazionale Los Glacieres: confronto tra il 2016 ed il 2022" />
    <meta name="keywords" content="gis consulenza tutorial formazione">
    <meta name="author" content="Massimiliano Moraca">
    <meta http-equiv="Reply-to" content="info@massimilianomoraca.it">
    <meta http-equiv="content-language" content="IT">
    <meta http-equiv="Content-Type" content="text/html; iso-8859-1">
    <meta name="robots" content="INDEX,FOLLOW">
    <meta name="creation_Date" content="14 Luglio 2022">
    <meta name="revisit-after" content="7 days">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Los Glacieres</title>
    <link rel="icon" href="https://cdn.jsdelivr.net/gh/MaxDragonheart/cdn@main/me/images/logo.png" type="image/gif">

    <!-- OpenGraph -->
    <meta property="og:title" content="Los Glacieres">
    <meta name="description" property="og:description" content="I ghiacciai del Parco Nazionale Los Glacieres: confronto tra il 2016 ed il 2022">
    <meta property="og:type" content="article" >
    <meta property="og:image" content="https://massimilianomoraca.it/media/uploads/images/2022/1/28/hunga_tonga.jpg">
    <meta property="og:url" content="webmap.massimilianomoraca.me">
    <meta name="twitter:creator" content="@maxdragonheart" />
    <meta name="twitter:card" value="summary_large_image">
    <meta name="twitter:title" content="Los Glacieres">
    <meta name="twitter:description" content="I ghiacciai del Parco Nazionale Los Glacieres: confronto tra il 2016 ed il 2022" />
    <meta name="twitter:image" content="https://massimilianomoraca.it/media/uploads/images/2022/1/28/hunga_tonga.jpg" />

    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
          integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
          crossorigin="anonymous"></script>
    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
      integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
      integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
      crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous">
    <!-- Font Awesome -->
    <link rel="stylesheet"
        href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
        crossorigin="anonymous">
    <script defer src="https://use.fontawesome.com/releases/v5.8.1/js/all.js"
          integrity="sha384-g5uSoOSBd7KkhAMlnQILrecXvzst9TdC09/VM+pjDTCM+1il8RHz5fKANTFFb+gQ"
          crossorigin="anonymous"></script>
    <!-- OpenLayers 6 -->
    <script src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.14.1/build/ol.js"></script>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.14.1/css/ol.css">
    <!-- ol-ext -->
    <link rel="stylesheet" href="https://cdn.rawgit.com/Viglino/ol-ext/master/dist/ol-ext.min.css" />
    <script type="text/javascript" src="https://cdn.rawgit.com/Viglino/ol-ext/master/dist/ol-ext.min.js"></script>
    <!-- Plotly JS -->
    <script src="https://cdn.plot.ly/plotly-2.11.1.min.js"></script>
    <!-- Custom -->
    <link rel="stylesheet"
          href="../../../../source/assets/css/ol_custom.css">
    <link rel="stylesheet"
          href="../../../../source/assets/css/geomedia.css">

</head>
<body>

<div class="map-wrapper">

    <div class="map" id='map'></div>

    <div class="turn-back-map">
        <a class="btn btn-map" href="#">
            <span data-toggle="tooltip" data-placement="top" title="Torna indietro">
                <i class="fas fa-undo-alt"></i>
            </span>
        </a>
    </div>

    <div class="map-info">
        <button class="btn btn-map" type="button" data-bs-toggle="offcanvas" data-bs-target="#mapDescription" aria-controls="mapDescription">
            <span data-toggle="tooltip" data-placement="top" title="Descrizione">
                <i class="fas fa-book"></i>
            </span>
        </button>
        <div class="offcanvas offcanvas-end" tabindex="-1" id="mapDescription" aria-labelledby="mapDescriptionLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="mapDescriptionLabel">Los Glacieres</h5>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <article class="text-justify">
                <p style="text-align: justify;">Lo scorso 15 gennaio l&rsquo;isola vulcanica Hunga Tonga-Hunga Ha&rsquo;apai &egrave; letteralmente esplosa generando una colonna eruttiva che ha superato i 18km di altezza ed uno tsnunami che ha rapidamente investito la capitale del <a href="https://it.wikipedia.org/wiki/Tonga" target="_blank" rel="noopener">regno polinesiano di Tonga</a>, Nuku'alofa.&nbsp;Un interessantissimo video sull&rsquo;accaduto &egrave; possibile trovarlo sul canale <a href="https://youtu.be/zMNdRzWw3jA" target="_blank" rel="noopener">YouTube di Geopop</a>.</p>
                <p style="text-align: justify;">Solo da qualche giorno i primi aiuti umanitari sono riusciti a raggiungere il regno via aria a causa dei depositi di cenere vulcanica che hanno totalmente reso inagibile la pista dell&rsquo;unico <a href="https://news.sky.com/story/tonga-first-foreign-aid-planes-arrive-as-new-photos-show-tsunami-devastation-12520491" target="_blank" rel="noopener">aeroporto</a>. &nbsp;</p>
                <p style="text-align: justify;"><br />Hunga Tonga-Hunga Ha&rsquo;apai come isola &egrave; abbastanza recente perch&eacute; si &egrave; formata nel 2016 dalla congiunzione di Hunga Tonga, isolotto di circa 37ha, ed Hunga Ha&rsquo;apai, isolotto di circa 43ha. Il lembo che ha congiunto i due isolotti &egrave; nato a seguito dell&rsquo;eruzione del 2016. Dal 2016, fino al momento dell'eruzione, l&rsquo;isola ha avuto un&rsquo;estensione di circa 300ha. Per darti un termine di paragone 1ha &egrave; circa l&rsquo;estensione di un campo di calcio regolamentare.&nbsp;</p>
                <p style="text-align: justify;"><br />L&rsquo;isola &egrave; andata completamente distrutta, come puoi vedere da questa mappa di comparazione generata grazie all'uso delle immagini <a href="https://sentinel.esa.int/web/sentinel/missions/sentinel-2" target="_blank" rel="noopener">Copernicus Sentinel-2</a>. Ma sempre in quell&rsquo;area di emisfero, difronte alle coste giapponesi c&rsquo;&egrave; l&rsquo;isola vulcanica di Iwo Jima che fa temere un&rsquo;eruzione simile. Al momento il suolo si sta sollevando tanto da portare a galla alcune navi affondate durante la <a href="https://nypost.com/2021/10/21/japanese-wwii-ships-sunk-by-us-emerge-after-volcano-tremors-lift-seabeds/" target="_blank" rel="noopener">Seconda Guerra Mondiale</a>!&nbsp;</p>
            </article>
        </div>
    </div>

</div>

<div class="btn-map-legend">
    <button class="btn btn-map" type="button" data-bs-toggle="offcanvas" data-bs-target="#openMapControls" aria-controls="openMapControls">
        <span data-toggle="tooltip" data-placement="top" title="Descrizione">
            <i class="fas fa-layer-group"></i>
        </span>
    </button>
    <div class="offcanvas offcanvas-end" tabindex="-1" id="openMapControls" aria-labelledby="openMapControlsLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="openMapControlsLabel">Layers</h5>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div class="px-2">
                <div class="custom-control custom-switch">
                    <input type="radio" class="custom-control-input" name="switch-basemap" id="BASEMAP_OSM" checked>
                    <label class="custom-control-label" for="BASEMAP_OSM">Lite</label>
                </div>
                <div class="custom-control custom-switch">
                    <input type="radio" class="custom-control-input" name="switch-basemap" id="BASEMAP_OUTDOORS">
                    <label class="custom-control-label" for="BASEMAP_OUTDOORS">Topographic</label>
                </div>
                <div class="custom-control custom-switch">
                    <input type="radio" class="custom-control-input" name="switch-basemap" id="BASEMAP_MONOCROMEGRAY">
                    <label class="custom-control-label" for="BASEMAP_MONOCROMEGRAY">Monocrome Gray</label>
                </div>
                <div class="custom-control custom-switch">
                    <input type="radio" class="custom-control-input" name="switch-basemap" id="BASEMAP_SATELLITE">
                    <label class="custom-control-label" for="BASEMAP_SATELLITE">Satellite</label>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="map-swipe-left">
    <h4>2022-01-27</h4>
</div>
<div class="map-swipe-right">
    <h4>2016-01-22</h4>
</div>

<div class="map-calculus">

    <button class="btn btn-map" type="button" data-bs-toggle="offcanvas" data-bs-target="#mapCalculus" aria-controls="mapCalculus">
        <span data-toggle="tooltip" data-placement="top" title="Analisi">
            <i class="fas fa-cogs"></i>
        </span>
    </button>

    <div class="offcanvas offcanvas-end" tabindex="-1" id="mapCalculus" aria-labelledby="mapCalculusLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="mapCalculusLabel">Misure</h5>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <article class="text-justify">
                <p>Attiva o disattiva gli strumenti di misura.</p>
                <div class="custom-control custom-checkbox">
                    <label class="custom-control-label">
                        <input type="checkbox" class="custom-control-input" data-bs-toggle="collapse" href="#measureArea"
                            role="button" aria-expanded="false" aria-controls="measureArea"
                            data-bs-toggle="tooltip" data-bs-placement="bottom" title="">
                         Visualizza
                    </label>
                </div>
                <p class="bg-warning mt-1 px-2" id="gotoaction" style="display: none;"></p>
            </article>
        </div>
    </div>

    <div id="measureArea" class="collapse">
        <div class="">
            <div class="custom-control custom-switch btn btn-measure mt-2 mb-1">
                <input type="checkbox" class="custom-control-input" name="switch-basemap" id="Distance" value="LineString">
                <label class="custom-control-label" for="Distance">
                    <span data-toggle="tooltip" data-placement="top" title="Misura la distanza">
                        <i class="fas fa-ruler"></i>
                    </span>
                </label>
                <span id="length"></span>
            </div>
        </div>
        <div class="">
            <div class="custom-control custom-switch btn btn-measure mt-1">
                <input type="checkbox" class="custom-control-input" name="switch-basemap" id="Surface" value="Polygon">
                <label class="custom-control-label" for="Surface">
                    <span data-toggle="tooltip" data-placement="top" title="Misura la superficie">
                        <i class="fas fa-draw-polygon"></i>
                    </span>
                </label>
                <span id="area"></span>
            </div>
        </div>
    </div>

</div>

</div>

<script type="text/javascript">

    var map = new ol.Map({
        target: 'map',
        controls: ol.control.defaults({
            attribution: false
        }),
    });
    var scaleLine = new ol.control.ScaleLine({
        className: 'ol-scale-line',
        target: document.getElementById('scale-line')
    });
    map.addControl(scaleLine);
    var attribution = new ol.control.Attribution({
        className: 'ol-attribution',
        label: 'a',
        collapsible: true,
        collapsed: true,
        target: document.getElementById('map-attribution'),
    });
    map.addControl(attribution);
    var view = new ol.View({
      center: ol.proj.fromLonLat([-72.83286825, -50.1257409]),
      zoom: 10,
      maxZoom: 14,
      minZoom: 10
    });
    map.setView(view);

    var osm = new ol.layer.Tile({
        source: new ol.source.OSM(),
        zIndex: 0
    });
    map.addLayer(osm);
    $('#BASEMAP_OSM').on('change', function() {
        let isChecked = $(this).is(':checked');
        if (isChecked) {
            map.addLayer(osm);
            map.removeLayer(outdoors);
            map.removeLayer(monocromeGray);
            map.removeLayer(satellite);
        } else {
            map.removeLayer(osm);
        }
    });
    var mapAttribution = '<a href="https://massimilianomoraca.it/" target="_blank">Massimiliano Moraca</a> has created this map using <a href="https://openlayers.org/" target="_blank">OpenLayers</a>'
    var userMapBox = 'maxdragonheart'
    var tokenMapBox = 'pk.eyJ1IjoibWF4ZHJhZ29uaGVhcnQiLCJhIjoiY2p4a2k3a2twMmF2aDN4czhwMzBoZ2x1eCJ9.upAxT3LK0NCiP_jBcErzNw'
    var outdoors = new ol.layer.Tile({
        title: 'Topographic',
        source: new ol.source.XYZ({
        attributions: mapAttribution,
            url: 'https://api.mapbox.com/styles/v1/' + userMapBox + '/'
                + 'cjxkimp5j5s0o1ct4b68n4x1p/tiles/256/{z}/{x}/{y}?'
                + 'access_token=' + tokenMapBox + ''
            }),
        zIndex: 0,
    });
    $('#BASEMAP_OUTDOORS').on('change', function() {
        let isChecked = $(this).is(':checked');
        if (isChecked) {
            map.addLayer(outdoors);
            map.removeLayer(osm);
            map.removeLayer(monocromeGray);
            map.removeLayer(satellite);
        } else {
            map.removeLayer(outdoors);
        }
    });
    var monocromeGray = new ol.layer.Tile({
        title: 'MonocromeGray',
        source: new ol.source.XYZ({
            attributions: mapAttribution,
            url: 'https://api.mapbox.com/styles/v1/' + userMapBox + '/'
                + 'ckcqb7nu809mu1inv9lfuj2ut/tiles/256/{z}/{x}/{y}?'
                + 'access_token=' + tokenMapBox + ''
        }),
        zIndex: 0,
    });
    $('#BASEMAP_MONOCROMEGRAY').on('change', function() {
        let isChecked = $(this).is(':checked');
        if (isChecked) {
            map.addLayer(monocromeGray);
            map.removeLayer(osm);
            map.removeLayer(outdoors);
            map.removeLayer(satellite);
        } else {
            map.removeLayer(monocromeGray);
        }
    });
    var satellite = new ol.layer.Tile({
        title: 'Satellite',
        source: new ol.source.XYZ({
            attributions: mapAttribution,
            url: 'https://api.mapbox.com/styles/v1/' + userMapBox + '/'
                + 'ck0l7j9cx27df1clhcyok70mk/tiles/256/{z}/{x}/{y}?'
                + 'access_token=' + tokenMapBox + ''
        }),
        zIndex: 0,
    });
    $('#BASEMAP_SATELLITE').on('change', function() {
    let isChecked = $(this).is(':checked');
        if (isChecked) {
            map.addLayer(satellite);
            map.removeLayer(osm);
            map.removeLayer(outdoors);
            map.removeLayer(monocromeGray);
        } else {
            map.removeLayer(satellite);
        }
    });

    var wmsSource = 'https://geoserver.massimilianomoraca.me/geoserver/MassimilianoMoraca/wms'
    var leftMap = new ol.layer.Tile({
      source: new ol.source.TileWMS({
        url: wmsSource,
        params: {
          'LAYERS': 'los_glacieres_20220127',
          'STYLES': null,
        }
      }),
      minZoom: 0,
      maxZoom: 28,
      zIndex: 1,
      opacity: 1.00
    });
    map.addLayer(leftMap)
    var rightMap = new ol.layer.Tile({
      source: new ol.source.TileWMS({
        url: wmsSource,
        params: {
          'LAYERS': 'los_glacieres_20160122',
          'STYLES': null,
        }
      }),
      minZoom: 0,
      maxZoom: 28,
      zIndex: 1,
      opacity: 1.00
    });
    map.addLayer(rightMap)

    var ctrl = new ol.control.Swipe();
    map.addControl(ctrl);
    ctrl.addLayer(leftMap);
    ctrl.addLayer(rightMap, true);

    var data_overlay = new ol.layer.Tile({
      source: new ol.source.TileWMS({
        url: wmsSource,
        params: {
          'LAYERS': 'glaciers_front',
          'STYLES': null,
        }
      }),
      minZoom: 0,
      maxZoom: 28,
      zIndex: 1,
      opacity: 1.00
    });
    map.addLayer(data_overlay)

    // Active measure tool
    $('#Distance').on('click', function () {
        let isChecked = $(this).is(':checked');

        if (isChecked) {
            addInteraction(geomType='LineString');
            map.addInteraction(draw);
        } else {
            map.removeInteraction(draw);
        }
    });
    $('#Surface').on('click', function () {
        let isChecked = $(this).is(':checked');

        if (isChecked) {
            addInteraction(geomType='Polygon');
            map.addInteraction(draw);
        } else {
            map.removeInteraction(draw);
        }
    });

</script>
    <link rel="stylesheet"
          href="../../../../source/assets/css/measure.css">
    <script type="text/javascript"
            src="../../../assets/js/measure.js"></script>

</body>
</html>